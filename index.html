<!DOCTYPE html>
<html>
<head>
  <title>Movie Addict</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Movie Addict</h1>
  <p><a href="search.html">Find Movie</a></p>
  <p><a href="add.html">Request Movie</a></p>
  <select id="sortOption">
    <option value="rating">Sort By Rating</option>
    <option value="year">Sort By Release Year</option>
  </select>
  <button onclick="sortFilms()">Sort</button>

  <ul id="filmList">
    <li><img src="insidious.jpg" alt="7.5" data-year="2010" width="200"><a href="detail.html?id=1">Insidious</a></li>
    <li><img src="inception.jpg" alt="8.8" data-year="2010" width="200"><a href="detail.html?id=2">Inception</a></li>
    <li><img src="shawshank.jpg" alt="9.3" data-year="1994" width="200" height="296"><a href="detail.html?id=3">The Shawshank Redemption</a></li>
    <li><img src="dark_knight.jpg" alt="9.0" data-year="2008" width="200"><a href="detail.html?id=4">The Dark Knight</a></li>
    <li><img src="godfather.jpg" alt="9.2" data-year="1972" width="200" height="296"><a href="detail.html?id=5">The Godfather</a></li>
    <li><img src="matrix.jpg" alt="8.7" data-year="1999" width="200" height="296"><a href="detail.html?id=6">The Matrix</a></li>
    <li><img src="forest_gump.jpg" alt="8.8" data-year="1994" width="200" height="296"><a href="detail.html?id=7">Forrest Gump</a></li>
    <li><img src="tlotr.jpg" alt="8.8" data-year="2001" width="200"><a href="detail.html?id=8">The Lord of the Rings: The Fellowship of the Ring</a></li>
  </ul>

  <script>
    function sortFilms() {
      var sortOption = document.getElementById("sortOption").value;

      var filmList = document.getElementById("filmList");
      var films = Array.from(filmList.children);

      if (sortOption === "rating") {
        films.sort(function(a, b) {
          var ratingA = parseFloat(a.querySelector("img").getAttribute("alt"));
          var ratingB = parseFloat(b.querySelector("img").getAttribute("alt"));

          return ratingB - ratingA;
        });
      } else if (sortOption === "year") {
        films.sort(function(a, b) {
          var yearA = parseInt(a.querySelector("img").getAttribute("data-year"));
          var yearB = parseInt(b.querySelector("img").getAttribute("data-year"));

          return yearA - yearB;
        });
      }

      films.forEach(function(film) {
        filmList.appendChild(film);
      });
    }
  </script>
</body>
</html>
